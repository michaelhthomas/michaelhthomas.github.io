<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <!-- Favicons -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">

    <title>NixOS Configuration Notes - Michael Thomas</title><meta name="gridsome:hash" content="12d0cd9ba9b11af18600854b7cd583d8c1b2d454"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.23"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" data-key="description" name="description" content="A simple, hackable &amp; minimalistic starter for Gridsome that uses Markdown for content."><meta data-vue-tag="ssr" name="description" content=""><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.8e7ea103d657b5eaf0ae67bb8fef1355.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.8e7ea103d657b5eaf0ae67bb8fef1355.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="96x96" href="/assets/static/favicon.b9532cc.8e7ea103d657b5eaf0ae67bb8fef1355.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/assets/static/favicon.f22e9f3.8e7ea103d657b5eaf0ae67bb8fef1355.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="152x152" href="/assets/static/favicon.62d22cb.8e7ea103d657b5eaf0ae67bb8fef1355.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="120x120" href="/assets/static/favicon.1539b60.8e7ea103d657b5eaf0ae67bb8fef1355.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="167x167" href="/assets/static/favicon.dc0cdc5.8e7ea103d657b5eaf0ae67bb8fef1355.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="180x180" href="/assets/static/favicon.7b22250.8e7ea103d657b5eaf0ae67bb8fef1355.png"><link rel="preload" href="/assets/css/0.styles.0c78f45e.css" as="style"><link rel="preload" href="/assets/js/app.f2f090e2.js" as="script"><link rel="preload" href="/assets/js/page--src--templates--post-vue.4a039277.js" as="script"><link rel="prefetch" href="/assets/js/page--node-modules--gridsome--app--pages--404-vue.a578f4ba.js"><link rel="prefetch" href="/assets/js/page--src--pages--blog-vue.116487a4.js"><link rel="prefetch" href="/assets/js/page--src--pages--index-vue.927c39fd.js"><link rel="prefetch" href="/assets/js/page--src--templates--site-page-vue.c563c0f6.js"><link rel="prefetch" href="/assets/js/page--src--templates--tag-vue.4f61db83.js"><link rel="prefetch" href="/assets/js/vue-remark--content--pages--about-md.0502fc3a.js"><link rel="stylesheet" href="/assets/css/0.styles.0c78f45e.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body >
    <script>
      // Add dark / light detection that runs before Vue.js load. Borrowed from overreacted.io
      (function() {
        window.__onThemeChange = function() {};
        function setTheme(newTheme) {
          window.__theme = newTheme;
          preferredTheme = newTheme;
          document.body.setAttribute('data-theme', newTheme);
          document.documentElement.classList.remove('light');
          document.documentElement.classList.remove('dark');
          document.documentElement.classList.add(newTheme);
          window.__onThemeChange(newTheme);
        }

        var preferredTheme;
        try {
          preferredTheme = localStorage.getItem('theme');
        } catch (err) { }

        window.__setPreferredTheme = function(newTheme) {
          setTheme(newTheme);
          try {
            localStorage.setItem('theme', newTheme);
          } catch (err) {}
        }

        var darkQuery = window.matchMedia('(prefers-color-scheme: dark)');
        darkQuery.addListener(function(e) {
          window.__setPreferredTheme(e.matches ? 'dark' : 'light')
        });

        setTheme(preferredTheme || (darkQuery.matches ? 'dark' : 'light'));
      })();
    </script>

    <div id="app" data-server-rendered="true" class="min-h-screen bg-true-gray-100 dark:bg-true-gray-900 transition-colors duration-150"><div class="navigation"><div class="border-t-8 border-primary-600 dark:border-true-gray-700"><nav class="wrapper py-6"><div class="px-10 flex justify-between items-center"><div class="logo"><a href="/" class="active"><h1 class="text-2xl font-semibold text-gray-700 dark:text-gray-200">Michael Thomas</h1></a></div><div class="flex flex-row gap-5"><a href="/blog" class="nav-link active">Blog</a><a href="/about" class="nav-link">About</a><button role="button" aria-label="Toggle dark/light" class="h-9 w-9 rounded-full cursor-pointer bg-true-gray-200 p-2 text-gray-900 dark:bg-true-gray-800 dark:text-gray-100"><span data-icon="ph:sun" class="iconify h-5 w-5"></span></button></div></div></nav></div></div><div class="page mb-auto"><div class="text-gray-900 dark:text-gray-100"><div class="wrapper-small post-title my-10 text-center"><h1 class="text-3xl font-bold text-true-gray-800 dark:text-true-gray-200 post-title__text mb-4">
        NixOS Configuration Notes
      </h1><div class="post-meta text-thin text-true-gray-600 dark:text-true-gray-400">
   Posted April 5, 2021.
   <strong>3 min read.</strong></div></div><div class="post content-box bg-white dark:bg-true-gray-800 shadow-lg shadow-true-gray-300 dark:shadow-true-gray-900 max-w-3xl pb-5 mx-0 sm:mx-5 md:mx-auto sm:rounded-lg"><div class="post__header"><img alt="Cover image" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 860 430' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-fbd46d7a89c105632405482352f62a7b'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='10'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-fbd46d7a89c105632405482352f62a7b)' width='860' height='430' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAgCAYAAACinX6EAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAHBUlEQVRo3u1XWVMUVxQeyxdffPAX6JsPWlpq%2baKWywOJmhKNJlYKcbcwBoxiNIoSk1KjJuIGARP1wSxWKpgFFQFBZRlBjFsMVACNwgADAzOZtWd6pnuGL/ecoVscUHtIpWISpuqrvvf0Pafv991zTveY8D//mYYEGBJgSIAhAeL99fT06FcNsfNYW%2bz4pREgdtNGMZAQsSL1tT1LpH8agy4BjVBICeu2iLDJSgRK%2bAnxcKS/CP/6DIj0kvq9zYelO824UNXG86Agf%2bpmF/ZcaYfNqzD5rMpOXPzNqQv00mXAYJzC4QgT6nQE8GaGGW/tqoTDLbOtzubHu%2bdbcPauHZeb3Ej9sRnFDVEBVOHXX8xIn7jh5z5XVVUoitLP7y8JQIHiQZS8SPWgyvNvLzdjZkox8s79BkUNQ/IH8eUdO3YUtWLnJQsOl1vhF2vJh0Ak%2b8cM6%2bVBJGPv0ZXselkNEGOwMFEwo1BV2mgEHimItEO3kLi1Em%2bIDHht0xXMTStG4uZizNvwE7bk1ODjq%2b3YfqEZty0e3rTVLuFe0x88VgQZihcKhXiel5eH0aNHw2w2R0spGNQ3mJycjIKCArbn5%2bfj5MmT0RgiE9TeOE/2pyIePgQTORlFSDyUTvFGXTc2HbmNjNxfsD3nLtKP/ozNh2ux9WgNNh2qws5jFThV3oKt55tR3hglnff9AyzbXQOPj8iFBQEVshwtm/T0dJhMJkyePBmBQOApMmPHjmWB6Ld%2b/XrMnTv3qUzQhFB4b9B9jcJEjvFAVRVxQiG%2bisehuM6ObeceoLLBwXMSKRJW4fAEsK%2boBftLWnCryYEl281Yu68Wbq/M90MhhclqxJYvX45JkyYhLS2NbSQObZBsp0%2bfZpvL5YLb7eZ9WK1WzhQtk6iEOjs7IUmSLogRmMjZKMK95APB6Phxt4SMgkfIKrVAkoNQRUBaF%2bTUDqNCiPLhhcdIz76DVzZeQ2mtVSSQymtord/vZ2KrV69GSkoKqqurORNu3rypizBx4kScOHGC56mpqZg/fz6Ply5diqlTp7IA9MvMzMT48ePh9XpZABLHCCcTLXwRZKpJNYRHgnBWhRWHyttxTFz3l7Yi42Iz6qxewVcII8f4CpJfXPodCzaXYcGWqyIDakQZVCPnu0YWkE6LfuvWrcOiRYt4vHDhQk57/sYQG5wwYYIuwKpVqzBjxgwe22w2jBw5EllZWWhsbMTw4cNRUVHB9yiz%2bCAMcDMkQECcREQJ4mGXD5%2bIrk4i7Cltw66SNuy7%2bBA37ln4ZP0BmU%2bNwH5ivulTM15NLcLb%2b68j5eNqJO82I/dcgxAgBJ/P10%2bA9vZ2jBgxAnv37uX5uHHj9B6wdu1azJkzR%2b8BJSUlGDNmDAt24MABtpGoRjjpAmgbfhFIhFAwOnb7AjhW1YE9VzuQdsSM5B2XRHPzC9WDrL7fT7Wt4ruSBkxJysfhr%2b7yPZ/kZ1CcoAClqybA4sWLdWJU81QKTU1NmDZtGnJycti%2bZs0azJ49m8ceT/TtMnPmTF5LvYFSn8rKKCeCiTZsFJIgFlFkXBGvs43nLShqdCLv27uYsiwfXxc2iE89hQkqgmyHzYnlGYVI2lGE1g4nekSJkL8sP4k3kAAasVmzZiEhIYGRnZ2tC9A3A0go6hG0dsmSJXoGxMPJRIoZhSTIhYMBlIjmtvtyG1zi1LvtbizbdQVvvl%2bGM9csyC1vxefi0/gzcT1S1oKcKitO1tqQfb0D%2bfe6OYYWTyNLTTAxMZHHdJLU2BoaGjBq1Cg%2bXe0tsHLlSkyfPp3H9fX1XCqFhYWw2%2b0YNmwYjh8/zvdIWKOcTKRYPJCFk93tw/1WFxTZD6fbi9SD1Uh4pwTpObdx8HILPhCdP7OwBTvF1yAJ9VFZO/eLG4%2bd7OPzRWMRWa27JyUl6ZvX7JT6JMDZs2d5vmHDBsybN4/HVAorVqzQsyE3N5cFq6ur41KgOEb4mKgRxQtJ8sEvrj1hGd8UNSEhtRSLtlXg9W2V4iOpU5RAAA%2bsLuwutvAbw%2bb0wuMVPuKB/WNJcDgcfIpSzH1KUer2TqeTT4vWEChzLBZLb1ZKTJYaGn0bdHV1sd0oFxM5xwOfT5DxeMXmJDxotmPh1nKs3lODn8of49V3y/HesTscWJUlXPy1CxsLWnCp3g4l4BMixMbyPZWumk2zE7j39JLU1tF9Ihwbh5pa3zhG%2bMQtAKeoOAFZEKp/2IW3Mq/jXNkj8RoM4OCZOvH/oAplta3is0CCzeHmV%2bYP97sQkLx8cp4B4rFd4Fl27d6zxgOtNQpTX0ej0B4oCVJ/ON1RxXtttm4X7A6XbnO5B97ky4JBZQCVgEaISsLrfSIMiRItk/4nNJhn/d0YpACe56bo8%2bf/AQH%2bSxgSYEiAIQH%2b3wL8CaNa%2b2ngJoA9AAAAAElFTkSuQmCC' /%3e%3c/svg%3e" width="860" data-src="/assets/static/cover.07cc2b7.af4f2b18b87dedfa36f0f4ffc5c71c29.png" data-srcset="/assets/static/cover.a67b0b2.af4f2b18b87dedfa36f0f4ffc5c71c29.png 480w, /assets/static/cover.07cc2b7.af4f2b18b87dedfa36f0f4ffc5c71c29.png 860w" data-sizes="(max-width: 860px) 100vw, 860px" class="sm:rounded-t-lg mx-auto g-image g-image--lazy g-image--loading"><noscript><img src="/assets/static/cover.07cc2b7.af4f2b18b87dedfa36f0f4ffc5c71c29.png" class="sm:rounded-t-lg mx-auto g-image g-image--loaded" width="860" alt="Cover image"></noscript></div><div class="mx-10"><div class="post__content prose prose-lg text-gray-900 dark:text-gray-100 mx-auto my-10"><p>I recently began using NixOS, a declarative, immutable Linux distro, as my daily driver. NixOS has a configuration file, <code class="language-text">configuration.nix</code>, which allows me to configure the entire operating system's state, packages, and configuration in a single, commitable file. </p>
<p>If you'd like to take a peek at exactly what that looks like, this git repo contains the entirety of my system configurations: <a href="https://git.thomasfamily.duckdns.org/michael/nix-dots" target="_blank" rel="nofollow noopener noreferrer">https://git.thomasfamily.duckdns.org/michael/nix-dots</a>. </p>
<p>I'll go ahead and explain what makes this so useful in a single line:</p>
<pre class="language-text"><code class="language-text">virtualisation.docker.enable = true;</code></pre>
<p>With this single line in my <code class="language-text">configuration.nix</code>, docker is now installed and running on my system. Really. No adding a repo, fiddling with the package manager, or enabling services. It just works. </p>
<p>Adding a few more lines gets me a full system configuration which has everything just the way I like it, with the ability to upgrade and roll-back at will, as well as even provision another system with the exact same settings. </p>
<p>But this isn't just any old configuration file. You may have noticed the <code class="language-text">.nix</code> extension used on our system configuration file. This file extension is for the <a href="https://nixos.wiki/wiki/Nix_Expression_Language" target="_blank" rel="nofollow noopener noreferrer"><strong>Nix Expression Language</strong></a><strong>,</strong> a language designed specifically for use with the Nix package manager, and by extension, NixOS. From the docs:</p>
<blockquote>
<p>The Nix expression language is a pure, lazy, functional language. Purity means that operations in the language don't have side-effects (for instance, there is no variable assignment). Laziness means that arguments to functions are evaluated only when they are needed. Functional means that functions are “normal” values that can be passed around and manipulated in interesting ways. The language is not a full-featured, general purpose language. Its main job is to describe packages, compositions of packages, and the variability within packages.</p>
</blockquote>
<p>Nix is a language that is both incredibly powerful and a bit challenging to learn. Unfortunately, the documentation can be lacking at times, and I ended up having to read through package definitions and other users' configs to get an idea of both how to use the language and the options that are available. Once you've got a hold on it, though, Nix will quickly become your new best friend. </p>
<p>For a quick intro to the Nix language, <a href="https://medium.com/@MrJamesFisher/nix-by-example-a0063a1a4c55" target="_blank" rel="nofollow noopener noreferrer">Nix By Example</a> is a wonderful resource to get you started. Some basic knowledge of the syntax is definitely helpful in putting together a working config. </p>
<p>Below are a few notes, tips, and tricks from my experience getting into NixOS as a beginner.</p>
<h2 id="getting-started-with-home-manager"><a href="#getting-started-with-home-manager" aria-hidden="true"><span class="icon icon-link"></span></a>Getting Started with Home Manager</h2>
<p><a href="https://github.com/nix-community/home-manager" target="_blank" rel="nofollow noopener noreferrer">Home Manager</a> is an incredibly powerful tool for extending the declarative Nix approach to the userland, and brings with it configuration options for nearly everything. </p>
<p>To get started with Home Manager, read over the <a href="https://github.com/nix-community/home-manager/blob/master/README.md" target="_blank" rel="nofollow noopener noreferrer">README</a> and follow the installation instruction there. Be sure to add the home-manager channel which corresponds with your NixOS version. Once you've done that, go ahead and open your configuration at <code class="language-text">~/.config/nixpkgs/home.nix</code>. </p>
<h2 id="setting-a-custom-shell"><a href="#setting-a-custom-shell" aria-hidden="true"><span class="icon icon-link"></span></a>Setting a Custom Shell</h2>
<p>In order to set a custom shell as the default shell for a user, you'll have to set it in configuration.nix. First ensure the shell is enabled, i'll be using zsh in this example: <code class="language-text">programs.zsh.enable = true;</code>. Next, set the user's shell property to the shell package in use: <code class="language-text">users.users.{yourName}.shell = pkgs.zsh;</code>. After running <code class="language-text">nixos-rebuild switch</code> and rebooting, zsh should now be your user's default shell. </p>
<h2 id="visual-studio-code"><a href="#visual-studio-code" aria-hidden="true"><span class="icon icon-link"></span></a>Visual Studio Code</h2>
<p>Visual Studio Code, my editor of choice, can be both installed and configured through Home Manager, making it easy to keep consistent configurations across systems. For example, the following configuration will install the Nix extension for proper syntax highlighting &#x26; code editing features, as well as configure some editor settings like the default font and tab size. </p>
<pre class="language-nix"><code class="language-nix"><span class="token punctuation">{</span> config<span class="token punctuation">,</span> pkgs<span class="token punctuation">,</span> libs<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span><span class="token punctuation">:</span>
<span class="token punctuation">{</span>
  programs <span class="token operator">=</span> <span class="token punctuation">{</span>
    vscode <span class="token operator">=</span> <span class="token punctuation">{</span>
      enable <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      extensions <span class="token operator">=</span> <span class="token punctuation">[</span>
        pkgs<span class="token punctuation">.</span>vscode<span class="token operator">-</span>extensions<span class="token punctuation">.</span>bbenoist<span class="token punctuation">.</span>Nix
      <span class="token punctuation">]</span><span class="token punctuation">;</span>
      userSettings <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string">"editor.fontFamily"</span> <span class="token operator">=</span> <span class="token string">"'FiraCode Nerd Font', 'Droid Sans Mono', 'monospace'"</span><span class="token punctuation">;</span>
        <span class="token string">"editor.tabSize"</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p><code class="language-text">vscode.nix</code></p>
</div></div><div class="post__footer"><div post="[object Object]" class="post-tags"></div></div></div><div class="max-w-screen-md mx-auto mt-10 px-5"><div class="post-comments"><div id="disqus_thread" style="min-height:200px;"></div></div><div class="my-10"></div><div class="rounded-md bg-true-gray-200 dark:bg-true-gray-800 p-10 flex gap-3 flex-wrap sm:flex-nowrap justify-center text-center sm:text-left post-author"><div class="flex-shrink-0 rounded-full h-40 mb-4 w-40 md:mb-0"><img alt="avatar" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 512 512' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-748c5f1e5b4ced0bd25803454f9d358d'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-748c5f1e5b4ced0bd25803454f9d358d)' width='512' height='512' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAXpElEQVR42s1bCVQVV9Juwck/c2bOmTWZSebMjFFBUFAEwRWNGwoIggoiuCD7oiwGEFB2UDbFNeqMUWPiFpeYuLC4g7IjKIrR7MnEHTUaFd7S9VfdXuj3eE8wMZO8c%2b7p%2b/p131v1VdVXdW/347if6LN8aQrnZGXO%2brHz53HB0z1N3jB/vSd%2b7SFd8xrHmbg52PZc4Odjsmj%2bXC4pMoL78usb3LtbtnFpsdFc1NzZPd4w72VK1/Yz4Uw8Rg41of6oXq9y86e6cb/YT4i3l9yfOtzB5Dlu7THOonfPIa/8wdTYBe5D7dh4BO6%2b9/f98pRPXhDBjgDAudvbyIqEec8YOm3U8KXTRg3b6z7UtmzqMLvi6aOGv%2b05cljEm0EBdo0XLv1af6ykiPC%2bM8aMTJ86bEjJ1OH2e73ecHSg89NET5g6YugvS/m0RYtk5cm9qT/LaYIVKl3mNsQG3IcMhCm2VuBma41Ha3Czs8Zzg4B%2b8xoz4guvMSN3znAcno3HfJ9xo08gUE/c7YR73PF6dwfbdgRyEI07z3WyyS/O%2bha/e4kp/5KovL%2bbi7%2br7cB2UsDZZgDvYjNA7TLYippGbGo8Tw3wN5gy2Ao87AfBVATKFb87C026/gmdnzF65GYa2/bPvzVJXLDgl6N8bspSdnSxHcjcPmDqFG/PYXZMCRRehY2nJn7nRUBAOo9NKwKiEq/XsOuka/E7eY6zrXWZSKCcq4PtLyTuY2KFOJ/pxRg%2bNijwNYzbVheb/iBaXKkoyE0AQAJJPuqfEwFQs9CxtzkszevjNP7nVz4hJoab7jic9SdaWfyKjkhcmRS7KHS7UeWfs5FneDjYgO/EcVnM0wZbma5dsernByDI050dAz3cZVLyGG5fNkUQXKPn%2bl03XctLnqCl854jHL54e8PGP9EcKTHRPX525cvLzwkgTPdkwqwqWvtrz5FDS4jhUXCtq6i8q62VURc39N1AnwHgZj/4AQLtIGSBSQzwdfl5P4/yqY0qLmZ3FZdh/yo3bpyQkmaMHrGDWJyYm5R2sraESYP6w/gBFkDfXREYfaUVVpbbFEyPkwcNAKeBluw%2b8XcNZROP4UM%2bfWvdxt/QfHEB/gz4NJTlf/rJuqDheh0G1o9cuYPFfdhUl9FTHQaj4P01qAA/tn8/CHF25Gs3J0C810QY3c8MxuG5yaKypKR%2bQ49hitO1Ux0GweyxQ2GiFYFgzYtAqTzsbQCtn8QAD0tkcwfXAJeNMv3knyNftnEL67Ssv%2bGKigs%2b2yZXej6e0/e6DR5AwqonouV9HO35j3enQXvFKrhbkgcfLA%2bFaM9xWPQMBPrdEZV0NO/LlKUjtQlWFkBEl%2bzrDA1bE%2bHC9mR2PXoSj2HFUiGFwnTHES3SvMEl13vevPcd6yee/wlBWNHcjsrzrL%2b0UdNjUCkw98u4yNtG1GrPeXrPBef%2bvbXOgzH%2bMe7PbYyDJ6eL4OaR5dBamg9PzhTB/WMFcGVXChwtjIR3kufBuuiZsCJiBhQt8ILNCbPhcH4EXNuTBo9OroCHJwrh8amVcHpdLPMOAoF5wkBL7ZRh9hB8oOVo/nfQm5XGFWCS36xm8iQ3armNLW0vVvl0jLHgakH5mDqNzPaxteqY8AaAkEoVuAwdonXFvP%2bGZT/YljyPbytfBbeO5jLlyQNuF%2bey43fHCxkwqorV0Fa%2bmgHz9Mwq9p36D/D3O8V5rN3G%2b5/iOQJz2rDBjE%2bIRyZbmWnn76yDiIvwfWzVY19JnvgGDQMhpFrLpZ1vfzHKr25RcZG1gtvH1mtNhFr/W5MFtdqtkc0AwY0Ac/c0q13RSlgHgP/EEfzNI7lwT1S8FdtdRbsjgkHKsVac2/FdBIndh/dTIxDbEZxjq6IodNALBsLkAX3Ad9V%2bVeglgIgmAJRvuQIEJmNEjZZraX0BINBA9IkSLf/elYcvofInF1wBCKrSqEOaQDt72zkksP48xjO/Kc4PnqL1byusLykjfZfO3dUDR3m9/m8UPpFub8B4q/68i1Uf3nf1AQi5CNqgSo1mQQsAyrRTknlhreAJwdXaH6e8RCpv1gvKn/jy4UvhNdpTkZdR%2bRpQIQA8AgBztlZgbFowhq/cFA/fYwyTCxtSpCvlDTUWCgjqpjhfGG1hDq7WZrzv2kN8yAWUo1LDoyzqSAQhrEa7Sz8ckK9%2bmPL5l4Qb05vUcsWFZHeIWb4a2jH1kAdASCPwc3fUs5ztPdIO/vvRMrhfVqDj7qTcvWd4gH7/nh5v0PHx6ZVwfHUUzoPrCxtLmPNOJSD4PMkQXMPzKJNq4RXmCf9hu0YnoMfKS0J9kPy8IKy53MZNK%2be5K3e%2b59zOALM%2bpr9VhDJNJE6ITcsH1wMElFyH8YOsIcZjrOzqJPTDEyuAyPBeGcXycqbMg2OFnUJD6tNvd/A%2bupZcnu4l0iQPIHK89n46LpWRBIfYwvzSm0BzMxnQGKJM6gjkhZh6bQJbjlfxLE0HVj1nKCxpFG5A5jcVQkDri4xLymtooo4JeaB%2bSLUGJr7hBNlzJ8OjU0XM/Ynpm99Lhn8nzoJlYW6QGuAMS/0nwQd5IUxRQyHwXvo8dg1duzzcHbYs8UOl0zAdFgmEWFIAAaNtYIqnL4Sg8igfCDLIMmkxHCAUf8MQGEOyR9dpmQ6Z3S2U3rqikuK/h1D1qV8Lq%2bHvsQlreI2kvDx5pQbCEfUxoVmwzG88PKlYw4TdnTUfFvmMg3fT5kL15ji4uicVGrYthgvvJqFHFHRSnhr93rQ9iV177t%2bLYHOyH8TMHAuHC8MYaA9PFsES73EwKWsPmzOoUk1GYUAoQFCHIS%2bF1/DX1lx6%2bn8sBERdyr/tRn2ALsWVfN3GOZ8WXB9TzI6IyzQwub5o%2bRpGgmziwCoeQnHCnG3vw7Z4H3iMOf3z/RmQv8ADPt2Xjvl9DQuFB%2bjSdKRmLDM8ot/R1ela6qvPrkHAkqFwoSfcOLwczxVCw/alkFfaAAF1IBiADFEjgQAiCKCicJXSo89ZMBV06cILTl0XrJ/QILhNSpNmQkQjc32tiDBZXphEnHwe9j86VQZPy7KhFS0rKUQWI0VYH5WiWCZyM5YdWsXfiEDpWrpHKpzuH5NINZ8B9LQ0C7afqWJzY9EjKS/xAC8ZCT1XnXFBY0m6LD6v6XoPcexxntv4sZrjdgtl7oJaviz8ouBWsusrrD8fj/GV9%2bF2KSpeQoyd3ymff/tRDqyL84b12K4fymGEqO/6ylxP3rMyahq8je5/p1NhhBkB57hfshy%2bLlsNEdXtENhhfVDKiI0RImaFLWzhdBZMqJzPbe7CC6RqL%2bm8ZnRYA7M%2bL1k/SJwkSESeLJB27roIQB4DQFn6EhEWF0WA2ygrcHe0htJVkYzQJMWUYUBMT6xP3DF5mCXMGGvDuOMRqylEIGhsSpPYv1m6AqKqHkOAHgBBciigzLVIiDX809RGjZlA7hrjmygnvmnj0pEpXcXYj6rTviPGvlpwexlZGQB/PKaeu9EBgJ5FKQQ%2b3ZsOSXOdIHmeE%2bMEKSzuGiiRyd0pc8T6jIWsEFesKbJ1CFOa4x56243SlbDQAAAdXiDUBsQFmAnYNtqcSt70P1fVhgFwOgUEAENo9WXVK8iircF1YmqplsnFAADXDQCQr8MF0uLGmPLKRrEvFE95cuzLoMoeIAAQZQQAygwsO6DsoY2MCy6d/foBM2wIlvY7PlMbdX9ToYzU%2bunmfd4AADwDIOXcTSH2ReEkIPS5QNknqxLZ3ROb0M83er2kfAfIxkNA6QUYDowUQzAUYus1I0TdDJPh2hY1N/q4XPVtVrq/gKYuAFL6CatWw9WyTfCkOBPuiMK1GiE5qf/1wWz48oNM%2bOpgFmtfHsiE/36Y3Sk76Nwrcswd9La24nSoO75DIMAa3iAAUoFEYUCLJawOc4SUyJuWfWNgCy3pvFD9Ndx8/KuFdfzVkPOS%2b%2btaX%2blmUhikYxi0HNuMAuaK1s%2bXw0EfBLI0FToVG2OhYoPQzm5cBJ8hP%2bjEu/JexZg0R%2bPx7bC48h7LQiFSHWBERirewtCbUafjTMG/sFDvDEDmRS2L/6IWzb%2bIOYlB5dxfY9wDpFAgxMkqD0tymJWMASApR5b/eHcKfIxgfGPE%2bnIjksQxH5dkwYkTB2EuzhegkMFwCLDzFL5aqmIjavkb66%2bofivUBAbWBlJsYAk8IbROmf6MDq4IAw34IWAHTx3HUMhgpMiI0EDFJ3EAkeN3YoFE/XuKIkr3HsHyNCaN/c6ZavCtFeYMUshh0AMkEARjqjKa1ObK0ljngwWDqbCZoJ0bcUF/4QNGQZAywhw8rqq4ouMBdw1wADH8jSPL4frhZTqNzt0p7ryJcrdUSbC5kHn2G90K0Jj1O0JAJsLoOs14UcfORIh5v6ew56dNXPhxx7L3mQAoLECEFFn1FD4vWwcPsFJTCs7yPKZBKmqouJk%2bzgZmTrQF7wkdjb5TSHwnlsCtiqxCgBKwF49tYaHWleU7ZwPQRF5kK8R5pOMiMdvpfMJqBADwmB51VQIAupwgSGRhsshs/L7rdIUYBoUdKVEEgQiQrO3rZAfDrHrBRId%2b2CzAvv8/IWK6o06ZrEyr5P6PMctsLG9ic3TH%2bkoeQMA0lNZDq7WBpCMeOwMQUMX3FI%2bpC64KKypjGUA/zuSVIfOCNvikbAN8V7KMWU5ZIDEvwFVe/dYEmOviwJSnFuY5Cq6I1pcXSwrlH5VkQ%2bOxd3StL83blXwCl2loTeNfBQHCRgl0BgBR6Ske0xdeFfb8uuMB%2blxADL387Oe4YFnGaoI7euuEO%2bKyl54XlG%2bIYet%2badV3R879Ha5/H%2bP%2bVkkhLDl3S479ZzJ/53qAeQBb1IkeEGzIAyQOwLo5Oep5OKBTWhQIcVN5IzwqzmZlq5AVdJe9tDT%2b/uRK1lo7LZPzWQgRl9zDVlhxjY2pVD6ou8ZRcEBcg2a%2bUQ6QsgACEdh5%2b6v7XiDxAQm8vvwiW8OTC0tLZZ0FELI%2bKd55TZDPcv63pUWQX/FpJ%2bW7b/2OLEDbZDF1mkmijiaG6gBTcRnsElbfjTqgmyCk4Gqx4di7cL80V2fDxNh2OVsfYOicO74HErDak5WvhudyfZ1iSKgD1JkX1NZGl8WpTUIlmNus6RNSw7fJlWA18M85oQ4IVCXOwbEOl%2byH1g9T4HZJgahovrwYkhZCt6jWP5gCu46VsWInQGH5H6y8WAmG1/J3CppVvxON3bkSTGkSTh79uv3XWDd/GdLw7LWAUS6QFieKxdJsrCy3HDkKn22Phku70%2bDTfWnwxYEM%2bIoWRNio/8neNPwtFT7ZHgtrSivZPXSvjts/V%2bwLBEgZgPYso%2bv5SoCjnNEd4rxmNWd5VNgKQwB20XYSuU1QF%2blGJiVh9SWkKmpVWgis1EBYlQrmojX3nSiD2/sToWVPGlzeuQSadySzzQ/WsE/nruBvtw4sga2nqtg9dC89%2bKCxguQ59DZDjSvfsRq8wlaDK6UN0vc/N/JChaIcnh/RbHw/QJpAFkqhNPuO1iMPCseSOgCPbqjMnjPloCpJZymNHnzQ/iDtF1K7fmgZewhK2aKtJBMzSBO44Rj%2b6LphF4SxKCR15lDOb4T9RQC04Y0ACQ0aZ3GtY/g1XL%2bzQIoLr7nVqf%2bKPHA/pM7wilDfGkwoshi6GhFo4OmH4LvvE3B%2bqwKy95%2bCvWeroP7YdnmdID3%2bEnhA8dgMGxVQ547vhj0VlbDio9PgtqkSfA98BoHlj4H2KMMaxeJLAkJPHrk4E0hcywxRy3%2b149rT34oLIW7LNQM7QpuvqdjzwN6HhDDAVHEgvFkMA8WeoI7yVQJBkeLBZ5/CtC114Lh4K1jNzgQLryT4/ZgQWJURB3A6A1qP5HTs6hjLAmLVeP9INsCpdNi5YjH8eWwo9JuRCNbzcmD00vdgxrsXIKRKLQDBZNEaAIGXtsbZQ9Poeu0a0sm7AkwLL3exKxxTJ22LaVzp2buiHuCDFHFHyhO7hmLce2w6C4OD8qG3exz0co%2bHPtOTwdxrKfx9ypswZl4CXC8WnhHcOpqn2DpXpr%2bO/H%2bL6gL0kgdYLXqGJcHfnGNxrCXQZ1oy9HKLgz5T42FIeBFM39bAvI28lGTRA0FyfwhFz0xp1NiJ6e/ZzwY8ztDLRuQewgtQ6DrVFIPSI7EgYWAIxAnJAvOKb8KwmA3wutub0NszEcy8U8Acmxkqz9r0RHhl0kIIWZTMXLztZIGwt49KkqK3izv6t8SC6MkJrBBPFEDi0qXwV7zXbNpieTw2NrbXPRYzsB0Tt0LAyfsQel4HBPkRGRF5eI2WvVM/8xyYxNaq0cvVxgHYKe6WSpujcQ3aaXJVKIaBpLzP7hYY4JvGLG7mndqh9Iwl0BcbHel7X894eMVpIUwOiIcjm7PZg432UwWgPl3AAKFGfdVpgRtOvpMDXuECcH084uRx2ZhewphmIhDkEQP9l4Hfh18xmQKrNLzC%2bnxYHSM/B%2bXzjq7fCKnlufxmFTfsuMAFiGBxRLOwQRokKM9777gI5mjd3tOS0CqpHUrLggrHvpLAaMW/TY6G15yjYIJ/PLPuxhXpsGd9Frz/VhZsXpkBKakp4BKYAP9wiUbLRyFwCcI4ijHN9OYwn5mK3pAIlj6p4PvB5xDaSO8LME9Q0aYu8tg20sGzHExa7j4hELoGIKVRLb4VIiCG3wdgnKvYY%2bfzoJ198Auw8F7CU5yTFWThFE0HBElYimNU6jWXWPjjhCj4i1MUAhLN2suoMJ171TkGenvE47XJ4lhL9ADtPA%2bFBYWf1ZxM3r/0NvGShtIwhu/dvIuqv4rPBYUn3U3dfGcovEZ4I4yepLCMUKOOiaQ3QyqeqJHseIxBHifmDSmvbzUlCAIQS6EfKmY%2bIwn6omdQI2/q5yUQp1I5Y2N0AmFmKk%2bh6BC1nsf0raGXtxLq1TPFp9tMh5j653hJIg9DgMsDrhAJY/CObxl6MU3wvsuqE/Av19h2cj2cmEcBeENC6SvRd8azlTB8zxLZA/o%2b%2bx4yBE8y9XKNVXm%2bXQcJl2Ed%2b3/Rsacm33//iPMq57nSr54%2b31siOeJT1LD9l4SXC%2b7Db2zmZV8088mkSVWisN0GQV%2b5Z7WurK6vvNhvJ9nsAnOPySvcg809hNpf/cNelJJeix2XuY/xgX1Y0St9vVIum%2bNEOHG7EoTuWNcQP/Q1QKDdHINX3NduPisL7OYva8radYat%2bPzWlZgIq9wf8fpsxvl2bs4Hn7C%2bQ8wmFku9Zma83M8n7XI/32wJBF500S694QU1mk%2beE2VQmc3KBNv5y%2bq3HG98mWR0S98hvBy1/%2bMf/6LknGXvcX9zjWd9nIQNPL9gz18Gzsk6a%2bGXQyBoUBDND/GGH6R8x9gamo9kQLk%2b2tN4nf3tblhoAZMRaxMudPXBF/O67Ove6dw/py5m/SEBy03Fv8b1wInXW/plQV9vRooqhYAvDAjd8dg5LZtrZhqgJ8LQ4PxMSc5x0auZ2w8PyeMWrv3gxb4wPTgwn5uwkC2puQkxa%2bSqanz0Gm8rv4z/iiFBAqpJSEU4PDcYihhn7i6OQWOqkYPA3DeLFlwtk%2bLekv81NSl%2bA5PpZfTWxZuP/jSvzA%2bLXM05xbCFFTc9dUuP34%2bNYJMuWH/oj%2bgZhQN809vMMR7FOkAtgsErQOD1yEufAHU8SFYaw4wpjkSHc9yzD8pbsr/pBnsF7h9T4kwXrPtQMgaXt7fip//jxMRF69nxJgBnJ4YEI5%2bkTb0HzcsuGjg7876FXzaY%2bWRIYGjFENEovUNhYVAoTLGtYvcwpTPBEseynp153cY/J31WznuvygYR453Nnbz5f/u3Gf/lOzkL33TWn7b07R5/coqRhUn495FXR4QWhFjPzjpqOSvtoaVvJjDCnJmO5XOaVBjxCpdn8c24xDsdLGbngMWsDMB7W63nZO11jFw5J2vX6T9I4/fyTDL1St/GcjyuRTifrHd/vn%2bO%2baRvlf8vPD5mrckrk2J0tpz8c3e9NiFmrdeo8MICW/%2bcQ/190y9g/D7o75cpe0B/vwxAHmnFzHJxaFDuR6PCCrMnxq6dMjNnx5%2bUY/0d3X1ywkZxS9sOw3Drj5b//wG90tx5IFn9HgAAAABJRU5ErkJggg==' /%3e%3c/svg%3e" width="512" data-src="/assets/static/avatar.cbda223.8e7ea103d657b5eaf0ae67bb8fef1355.png" data-srcset="/assets/static/avatar.cbda223.8e7ea103d657b5eaf0ae67bb8fef1355.png 512w" data-sizes="(max-width: 512px) 100vw, 512px" class="rounded-full h-40 w-40 g-image g-image--lazy g-image--loading"><noscript><img src="/assets/static/avatar.cbda223.8e7ea103d657b5eaf0ae67bb8fef1355.png" class="rounded-full h-40 w-40 g-image g-image--loaded" width="512" alt="avatar"></noscript></div><div class="flex-grow flex flex-col justify-center"><h1 class="text-3xl font-semibold text-gray-900 dark:text-gray-100 mb-2">
      Michael Thomas
    </h1><p>
      I'm Michael Thomas, a web developer and systems engineer from Columbia, South Carolina.
      I love to build stuff, break stuff, and most importantly, learn from the experience. I 
      like to blog about my experiences with Linux, selfhosting, and app development.
    </p></div></div></div></div></div><div class="footer"><footer class="bg-gray-50 dark:bg-true-gray-800 border-b-8 border-primary-600 dark:border-true-gray-700"><div class="wrapper mx-auto mt-24 px-5"><div class="md:py-5"><div class="flex flex-col items-center justify-between mt-6 md:mt-0 md:flex-row"><div class="logo flex items-center"><div class="text-sm text-gray-700 dark:text-gray-200 mx-1 mt-5 text-center sm:text-left sm:mt-0"><p class="font-bold">© 2021 Michael Thomas</p><p>
              Built with <span data-icon="noto:red-heart" data-inline="true" class="iconify"></span> and
              <a href="https://github.com/michaelhthomas/michaelhthomas.github.io?utm_source=michaelt.xyz" target="_blank" rel="noreferrer noopener" aria-label="michaelt.xyz" class="text-sm underline text-gray-700 dark:text-gray-200">
                available on Github
              </a></p></div></div><div><div class="wrapper flex flex-wrap text-base text-center m-3 text-true-gray-700 dark:text-true-gray-300"><a href="https://github.com/michaelhthomas?utm_source=michaelt.xyz" target="_blank" rel="noreferrer noopener" role="button" aria-label="github" class="social-link hover:text-primary-500 mx-3 transition-colors"><span data-icon="mdi:github" class="iconify h-8 w-8"></span></a><a href="https://reddit.com/u/linuxoveruser?utm_source=michaelt.xyz" target="_blank" rel="noreferrer noopener" role="button" aria-label="reddit" class="social-link hover:text-primary-500 mx-3 transition-colors"><span data-icon="mdi:reddit" class="iconify h-8 w-8"></span></a></div></div></div></div></div></footer></div></div>
    <script>window.__INITIAL_STATE__={"data":{"post":{"title":"NixOS Configuration Notes","path":"\u002Fblog\u002Fnix-os-configuration-notes\u002F","date_published":"April 5, 2021","timeToRead":3,"tags":[{"id":"NixOS","title":"NixOS","path":"\u002Ftag\u002FNixOS\u002F"},{"id":"Linux","title":"Linux","path":"\u002Ftag\u002FLinux\u002F"}],"description":"","content":"\u003Cp\u003EI recently began using NixOS, a declarative, immutable Linux distro, as my daily driver. NixOS has a configuration file, \u003Ccode class=\"language-text\"\u003Econfiguration.nix\u003C\u002Fcode\u003E, which allows me to configure the entire operating system's state, packages, and configuration in a single, commitable file. \u003C\u002Fp\u003E\n\u003Cp\u003EIf you'd like to take a peek at exactly what that looks like, this git repo contains the entirety of my system configurations: \u003Ca href=\"https:\u002F\u002Fgit.thomasfamily.duckdns.org\u002Fmichael\u002Fnix-dots\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Ehttps:\u002F\u002Fgit.thomasfamily.duckdns.org\u002Fmichael\u002Fnix-dots\u003C\u002Fa\u003E. \u003C\u002Fp\u003E\n\u003Cp\u003EI'll go ahead and explain what makes this so useful in a single line:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003Evirtualisation.docker.enable = true;\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EWith this single line in my \u003Ccode class=\"language-text\"\u003Econfiguration.nix\u003C\u002Fcode\u003E, docker is now installed and running on my system. Really. No adding a repo, fiddling with the package manager, or enabling services. It just works. \u003C\u002Fp\u003E\n\u003Cp\u003EAdding a few more lines gets me a full system configuration which has everything just the way I like it, with the ability to upgrade and roll-back at will, as well as even provision another system with the exact same settings. \u003C\u002Fp\u003E\n\u003Cp\u003EBut this isn't just any old configuration file. You may have noticed the \u003Ccode class=\"language-text\"\u003E.nix\u003C\u002Fcode\u003E extension used on our system configuration file. This file extension is for the \u003Ca href=\"https:\u002F\u002Fnixos.wiki\u002Fwiki\u002FNix_Expression_Language\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003E\u003Cstrong\u003ENix Expression Language\u003C\u002Fstrong\u003E\u003C\u002Fa\u003E\u003Cstrong\u003E,\u003C\u002Fstrong\u003E a language designed specifically for use with the Nix package manager, and by extension, NixOS. From the docs:\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003EThe Nix expression language is a pure, lazy, functional language. Purity means that operations in the language don't have side-effects (for instance, there is no variable assignment). Laziness means that arguments to functions are evaluated only when they are needed. Functional means that functions are “normal” values that can be passed around and manipulated in interesting ways. The language is not a full-featured, general purpose language. Its main job is to describe packages, compositions of packages, and the variability within packages.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003ENix is a language that is both incredibly powerful and a bit challenging to learn. Unfortunately, the documentation can be lacking at times, and I ended up having to read through package definitions and other users' configs to get an idea of both how to use the language and the options that are available. Once you've got a hold on it, though, Nix will quickly become your new best friend. \u003C\u002Fp\u003E\n\u003Cp\u003EFor a quick intro to the Nix language, \u003Ca href=\"https:\u002F\u002Fmedium.com\u002F@MrJamesFisher\u002Fnix-by-example-a0063a1a4c55\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003ENix By Example\u003C\u002Fa\u003E is a wonderful resource to get you started. Some basic knowledge of the syntax is definitely helpful in putting together a working config. \u003C\u002Fp\u003E\n\u003Cp\u003EBelow are a few notes, tips, and tricks from my experience getting into NixOS as a beginner.\u003C\u002Fp\u003E\n\u003Ch2 id=\"getting-started-with-home-manager\"\u003E\u003Ca href=\"#getting-started-with-home-manager\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EGetting Started with Home Manager\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fnix-community\u002Fhome-manager\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003EHome Manager\u003C\u002Fa\u003E is an incredibly powerful tool for extending the declarative Nix approach to the userland, and brings with it configuration options for nearly everything. \u003C\u002Fp\u003E\n\u003Cp\u003ETo get started with Home Manager, read over the \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fnix-community\u002Fhome-manager\u002Fblob\u002Fmaster\u002FREADME.md\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003EREADME\u003C\u002Fa\u003E and follow the installation instruction there. Be sure to add the home-manager channel which corresponds with your NixOS version. Once you've done that, go ahead and open your configuration at \u003Ccode class=\"language-text\"\u003E~\u002F.config\u002Fnixpkgs\u002Fhome.nix\u003C\u002Fcode\u003E. \u003C\u002Fp\u003E\n\u003Ch2 id=\"setting-a-custom-shell\"\u003E\u003Ca href=\"#setting-a-custom-shell\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ESetting a Custom Shell\u003C\u002Fh2\u003E\n\u003Cp\u003EIn order to set a custom shell as the default shell for a user, you'll have to set it in configuration.nix. First ensure the shell is enabled, i'll be using zsh in this example: \u003Ccode class=\"language-text\"\u003Eprograms.zsh.enable = true;\u003C\u002Fcode\u003E. Next, set the user's shell property to the shell package in use: \u003Ccode class=\"language-text\"\u003Eusers.users.{yourName}.shell = pkgs.zsh;\u003C\u002Fcode\u003E. After running \u003Ccode class=\"language-text\"\u003Enixos-rebuild switch\u003C\u002Fcode\u003E and rebooting, zsh should now be your user's default shell. \u003C\u002Fp\u003E\n\u003Ch2 id=\"visual-studio-code\"\u003E\u003Ca href=\"#visual-studio-code\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EVisual Studio Code\u003C\u002Fh2\u003E\n\u003Cp\u003EVisual Studio Code, my editor of choice, can be both installed and configured through Home Manager, making it easy to keep consistent configurations across systems. For example, the following configuration will install the Nix extension for proper syntax highlighting &#x26; code editing features, as well as configure some editor settings like the default font and tab size. \u003C\u002Fp\u003E\n\u003Cpre class=\"language-nix\"\u003E\u003Ccode class=\"language-nix\"\u003E\u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E config\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E pkgs\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E libs\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E:\u003C\u002Fspan\u003E\n\u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n  programs \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n    vscode \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n      enable \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token boolean\"\u003Etrue\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n      extensions \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E[\u003C\u002Fspan\u003E\n        pkgs\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003Evscode\u003Cspan class=\"token operator\"\u003E-\u003C\u002Fspan\u003Eextensions\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003Ebbenoist\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003ENix\n      \u003Cspan class=\"token punctuation\"\u003E]\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n      userSettings \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n        \u003Cspan class=\"token string\"\u003E\"editor.fontFamily\"\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E\"'FiraCode Nerd Font', 'Droid Sans Mono', 'monospace'\"\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n        \u003Cspan class=\"token string\"\u003E\"editor.tabSize\"\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token number\"\u003E2\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n\u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E\u003Ccode class=\"language-text\"\u003Evscode.nix\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n","cover_image":{"type":"image","mimeType":"image\u002Fpng","src":"\u002Fassets\u002Fstatic\u002Fcover.07cc2b7.af4f2b18b87dedfa36f0f4ffc5c71c29.png","size":{"width":860,"height":430},"sizes":"(max-width: 860px) 100vw, 860px","srcset":["\u002Fassets\u002Fstatic\u002Fcover.a67b0b2.af4f2b18b87dedfa36f0f4ffc5c71c29.png 480w","\u002Fassets\u002Fstatic\u002Fcover.07cc2b7.af4f2b18b87dedfa36f0f4ffc5c71c29.png 860w"],"dataUri":"data:image\u002Fsvg+xml,%3csvg fill='none' viewBox='0 0 860 430' xmlns='http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg' xmlns:xlink='http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-fbd46d7a89c105632405482352f62a7b'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='10'\u002F%3e%3c\u002Ffilter%3e%3c\u002Fdefs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-fbd46d7a89c105632405482352f62a7b)' width='860' height='430' xlink:href='data:image\u002Fpng%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAgCAYAAACinX6EAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAHBUlEQVRo3u1XWVMUVxQeyxdffPAX6JsPWlpq%2baKWywOJmhKNJlYKcbcwBoxiNIoSk1KjJuIGARP1wSxWKpgFFQFBZRlBjFsMVACNwgADAzOZtWd6pnuGL\u002FecoVscUHtIpWISpuqrvvf0Pafv991zTveY8D\u002F\u002FmYYEGBJgSIAhAeL99fT06FcNsfNYW%2bz4pREgdtNGMZAQsSL1tT1LpH8agy4BjVBICeu2iLDJSgRK%2bAnxcKS\u002FCP\u002F6DIj0kvq9zYelO824UNXG86Agf%2bpmF\u002FZcaYfNqzD5rMpOXPzNqQv00mXAYJzC4QgT6nQE8GaGGW\u002FtqoTDLbOtzubHu%2bdbcPauHZeb3Ej9sRnFDVEBVOHXX8xIn7jh5z5XVVUoitLP7y8JQIHiQZS8SPWgyvNvLzdjZkox8s79BkUNQ\u002FIH8eUdO3YUtWLnJQsOl1vhF2vJh0Ak%2b8cM6%2bVBJGPv0ZXselkNEGOwMFEwo1BV2mgEHimItEO3kLi1Em%2bIDHht0xXMTStG4uZizNvwE7bk1ODjq%2b3YfqEZty0e3rTVLuFe0x88VgQZihcKhXiel5eH0aNHw2w2R0spGNQ3mJycjIKCArbn5%2bfj5MmT0RgiE9TeOE\u002F2pyIePgQTORlFSDyUTvFGXTc2HbmNjNxfsD3nLtKP\u002FozNh2ux9WgNNh2qws5jFThV3oKt55tR3hglnff9AyzbXQOPj8iFBQEVshwtm\u002FT0dJhMJkyePBmBQOApMmPHjmWB6Ld%2b\u002FXrMnTv3qUzQhFB4b9B9jcJEjvFAVRVxQiG%2bisehuM6ObeceoLLBwXMSKRJW4fAEsK%2boBftLWnCryYEl281Yu68Wbq\u002FM90MhhclqxJYvX45JkyYhLS2NbSQObZBsp0%2bfZpvL5YLb7eZ9WK1WzhQtk6iEOjs7IUmSLogRmMjZKMK95APB6Phxt4SMgkfIKrVAkoNQRUBaF%2bTUDqNCiPLhhcdIz76DVzZeQ2mtVSSQymtord\u002FvZ2KrV69GSkoKqqurORNu3rypizBx4kScOHGC56mpqZg\u002Ffz6Ply5diqlTp7IA9MvMzMT48ePh9XpZABLHCCcTLXwRZKpJNYRHgnBWhRWHyttxTFz3l7Yi42Iz6qxewVcII8f4CpJfXPodCzaXYcGWqyIDakQZVCPnu0YWkE6LfuvWrcOiRYt4vHDhQk57\u002FsYQG5wwYYIuwKpVqzBjxgwe22w2jBw5EllZWWhsbMTw4cNRUVHB9yiz%2bCAMcDMkQECcREQJ4mGXD5%2bIrk4i7Cltw66SNuy7%2bBA37ln4ZP0BmU%2bNwH5ivulTM15NLcLb%2b68j5eNqJO82I\u002FdcgxAgBJ\u002FP10%2bA9vZ2jBgxAnv37uX5uHHj9B6wdu1azJkzR%2b8BJSUlGDNmDAt24MABtpGoRjjpAmgbfhFIhFAwOnb7AjhW1YE9VzuQdsSM5B2XRHPzC9WDrL7fT7Wt4ruSBkxJysfhr%2b7yPZ\u002FkZ1CcoAClqybA4sWLdWJU81QKTU1NmDZtGnJycti%2bZs0azJ49m8ceT\u002FTtMnPmTF5LvYFSn8rKKCeCiTZsFJIgFlFkXBGvs43nLShqdCLv27uYsiwfXxc2iE89hQkqgmyHzYnlGYVI2lGE1g4nekSJkL8sP4k3kAAasVmzZiEhIYGRnZ2tC9A3A0go6hG0dsmSJXoGxMPJRIoZhSTIhYMBlIjmtvtyG1zi1LvtbizbdQVvvl%2bGM9csyC1vxefi0\u002FgzcT1S1oKcKitO1tqQfb0D%2bfe6OYYWTyNLTTAxMZHHdJLU2BoaGjBq1Cg%2bXe0tsHLlSkyfPp3H9fX1XCqFhYWw2%2b0YNmwYjh8\u002FzvdIWKOcTKRYPJCFk93tw\u002F1WFxTZD6fbi9SD1Uh4pwTpObdx8HILPhCdP7OwBTvF1yAJ9VFZO\u002FeLG4%2bd7OPzRWMRWa27JyUl6ZvX7JT6JMDZs2d5vmHDBsybN4\u002FHVAorVqzQsyE3N5cFq6ur41KgOEb4mKgRxQtJ8sEvrj1hGd8UNSEhtRSLtlXg9W2V4iOpU5RAAA%2bsLuwutvAbw%2bb0wuMVPuKB\u002FWNJcDgcfIpSzH1KUer2TqeTT4vWEChzLBZLb1ZKTJYaGn0bdHV1sd0oFxM5xwOfT5DxeMXmJDxotmPh1nKs3lODn8of49V3y\u002FHesTscWJUlXPy1CxsLWnCp3g4l4BMixMbyPZWumk2zE7j39JLU1tF9Ihwbh5pa3zhG%2bMQtAKeoOAFZEKp\u002F2IW3Mq\u002FjXNkj8RoM4OCZOvH\u002FoAplta3is0CCzeHmV%2bYP97sQkLx8cp4B4rFd4Fl27d6zxgOtNQpTX0ej0B4oCVJ\u002FON1RxXtttm4X7A6XbnO5B97ky4JBZQCVgEaISsLrfSIMiRItk\u002F4nNJhn\u002Fd0YpACe56bo8%2bf\u002FAQH%2bSxgSYEiAIQH%2b3wL8CaNa%2b2ngJoA9AAAAAElFTkSuQmCC' \u002F%3e%3c\u002Fsvg%3e"}}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/assets/js/app.f2f090e2.js" defer></script><script src="/assets/js/page--src--templates--post-vue.4a039277.js" defer></script>
  </body>
</html>